{% extends 'base.html' %}

{% block page_title %}Sticker{% endblock %}

{% block page_head %}
    {% load static %}
    <style>
        /* CUSTOM HTML CHECKBOX */

            /* Make divs inline */
            .custom-checkbox-input {
                display: inline;
            }

            /* Hide default checkbox */
            input[type=checkbox] {
                display: none;
            }

            /* Set the size of a new checkbox */
            .checkbox {
                font-size: 16px;
                line-height: 20px;
            }

            label {
                cursor: pointer;
            }

            /* Styling of the checkbox before its clicked */
            label:before {
                display: inline-block;
                width: 20px;
                margin-right: 5px;
                content: 'e';
                text-align: center;
                background: #000;
                margin-bottom: 5px;
            }

            label:hover::before{
                background: #ccc;
                color: #ccc;
            }

            /* On Check */
            input:checked ~ label::before {
                background: #ccc;
                color: #ccc;
            }


            /* FORM STYLING */
            /* Alling cards horizontally */
            form {
                text-align: center;
            }
    </style>
{% endblock %}

{% block body %}
    <br>
    <div class="container"></div>
        <h1 class="d-flex justify-content-center">Sticker</h1>
    </div>
    <br>
    <h3 id="id_player" class="d-flex justify-content-center">{{ current_player }}</h3>
    <div class="d-flex justify-content-center">
        <br>
        <form id="id_form" action="{% url 'make_a_move' game_id %}" method="POST">
            {% csrf_token %}
            {{ form.as_div }}
            <br>
            <input id="id_submit_button" type="submit" value="Submit">
        </form>
	<a id="id_instructions_link" href="#">Show instructions</a>
	<div id="id_game_rules" style="visibility: hidden">
	There are 2 players.
	Eash player picks up one or more cards on each turn.
	Picked up cards must all come from the same row.
	The player who picks up the last card, loses.	
	</div>
    </div>
    <script src="{% static 'app.js' %}"></script>
    <script>
        // Add breakspaces
        window.onload = function breakSpaceTheCards () {
            let allCards = document.getElementsByTagName('label');
            let form = document.getElementById('id_form');

            for (var index = 0; index < allCards.length; index++) {
                if (allCards[index].htmlFor.endsWith('0')) {
                    form.insertBefore(document.createElement('br'), allCards[index].parentElement);
                }
            };
        }
    </script>
{% endblock %}